---
title: Quick Start
description: Get HERITRACE running in minutes
---

import { Tabs, TabItem } from '@astrojs/starlight/components';

This guide will get HERITRACE running on your local machine in just a few steps.

## Prerequisites

- <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker and Docker Compose installed</a>
- Modern web browser

## Installation Methods

Choose between using pre-built Docker images (recommended for quick setup) or building from source (for development):

<Tabs>
  <TabItem label="Pre-built Images (Recommended)">
    
### Quick Setup with Pre-built Images

This method uses official Docker images published to Docker Hub and GitHub Container Registry, eliminating the need to build locally. Configuration is done directly in the docker-compose.yml file.

#### 1. Download Configuration Files

Create a new directory for HERITRACE:
```bash
mkdir heritrace && cd heritrace
```

Download HERITRACE configuration:
```bash
curl -o docker-compose.yml https://raw.githubusercontent.com/opencitations/heritrace/main/docker-compose.yml
```

Optionally download database management scripts for quick setup:

<Tabs>
  <TabItem label="Linux/MacOS">
    ```bash
    curl -o start-databases.sh https://raw.githubusercontent.com/opencitations/heritrace/main/start-databases.sh
    ```
    ```bash
    curl -o stop-databases.sh https://raw.githubusercontent.com/opencitations/heritrace/main/stop-databases.sh
    ```
    ```bash
    chmod +x start-databases.sh stop-databases.sh
    ```
  </TabItem>
  <TabItem label="Windows">
    ```bash
    curl -o Start-Databases.ps1 https://raw.githubusercontent.com/opencitations/heritrace/main/Start-Databases.ps1
    ```
    ```bash
    curl -o Stop-Databases.ps1 https://raw.githubusercontent.com/opencitations/heritrace/main/Stop-Databases.ps1
    ```
  </TabItem>
</Tabs>

#### 2. Configure ORCID Authentication

**Required:** Edit `docker-compose.yml` to configure:

1. **ORCID authentication** (get from [ORCID Developer Tools](https://orcid.org/developer-tools)):
   - Create an ORCID account at <a href="https://orcid.org/register" target="_blank" rel="noopener noreferrer">orcid.org</a> if you don't have one
   - Create a new application and set redirect URI to: `https://127.0.0.1:5000/auth/callback`
   - Update in docker-compose.yml: `ORCID_CLIENT_ID`, `ORCID_CLIENT_SECRET`, `ORCID_WHITELIST` (comma-separated ORCID IDs)

2. **Security**: Change `SECRET_KEY` to a secure random value

3. **Database endpoints** (optional for quick start):
   - Update `DATASET_DB_URL` and `PROVENANCE_DB_URL` if using your own databases

#### 3. Launch Options

**Option A: Quick start with provided databases**

Start databases first:

<Tabs>
  <TabItem label="Linux/MacOS">
    ```bash
    ./start-databases.sh
    ```
  </TabItem>
  <TabItem label="Windows">
    ```bash
    .\Start-Databases.ps1
    ```
  </TabItem>
</Tabs>

Start HERITRACE (edit docker-compose.yml first!):
```bash
docker compose up
```

**Option B: Use your existing databases**

Edit docker-compose.yml with your database URLs, then start HERITRACE:
```bash
docker compose up
```

:::note
- Pre-built images are automatically pulled from Docker Hub. The first run will download the images (~2GB total).
- The `resources` folder will be created automatically with default SHACL schema and display rules for customization.
:::

  </TabItem>
  <TabItem label="Build from Source">

### Development Setup - Build from Source

This method requires <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git</a> and is recommended for development or customization.

#### 1. Clone the Repository

```bash
git clone https://github.com/opencitations/heritrace.git
```
```bash
cd heritrace
```

#### 2. Configure the Application

Copy the example configuration file:

```bash
cp config.example.py config.py
```

Configure ORCID authentication in `config.py` (edit the file directly with your credentials).

#### 3. Start the Databases

:::note
Make sure Docker Engine (Linux/MacOS) or Docker Desktop (Windows) is running before executing these commands.
:::

<Tabs>
  <TabItem label="Linux/MacOS">
    ```bash
    ./start-databases.sh
    ```
  </TabItem>
  <TabItem label="Windows">
    ```bash
    .\Start-Databases.ps1
    ```
  </TabItem>
</Tabs>

This starts two Virtuoso database instances:
- Dataset database on port 8999
- Provenance database on port 8998

#### 4. Launch HERITRACE

Development Mode (with hot reload):
```bash
docker compose -f docker-compose.dev.yaml up --build
```

Production Mode:
```bash
docker compose up
```

  </TabItem>
</Tabs>

:::note
Both installation methods automatically start all required services including:
- HERITRACE web application (port 5000)
- Redis for resource locking and counters (port 6379)
- All dependencies are managed automatically by Docker Compose

For the pre-built images method, the `resources` folder is exposed as a volume for easy customization of SHACL schemas and display rules.
:::

## Access the Application

Open your browser and navigate to:

```
https://127.0.0.1:5000
```

:::caution[SSL Certificate Warning]
**Development Mode**: HERITRACE uses a self-signed SSL certificate, so your browser will show a security warning. Click "Advanced" and "Proceed to 127.0.0.1:5000 (unsafe)" to continue.

The following image shows an example of this warning:

![Browser 'Your connection is not private' warning](../../../assets/connection_not_private.png)

**Production Mode**: Requires a valid SSL certificate and public domain for ORCID authentication to work, as ORCID only accepts HTTPS callbacks. Without these, ORCID will reject authentication requests. For initial testing, use development mode.
:::

## Pre-configured Data Model

HERITRACE comes preloaded with validation and display rules based on a customized version of the <a href="https://doi.org/10.1007/978-3-030-62466-8_28" target="_blank" rel="noopener noreferrer">OpenCitations Data Model (OCDM)</a>:

- **SHACL Schema** (`resources/shacl.ttl`): Defines the data model, classes, and properties.
- **YAML Display Rules** (`resources/display_rules.yaml`): Configure how entities appear in the interface

These rules can be fully customized for your specific needs while maintaining semantic integrity.

## What's Next?

Now that HERITRACE is running, you can:

1. **Explore the Interface**: Navigate through the metadata management features with the preconfigured data model
2. **Configure Schemas**: Customize the [SHACL schema](/heritrace/configuration/shacl/) for your data model
3. **Set Display Rules**: Modify the [YAML display rules](/heritrace/configuration/display-rules/) for your interface
4. **Advanced Configuration**: Review [additional settings](/heritrace/configuration/app-settings/) for production use

## Stopping the Application

When you're done, stop the services:

<Tabs>
  <TabItem label="Stop Application">
    Press Ctrl+C in the terminal running docker compose, or run:
    ```bash
    docker compose down
    ```
  </TabItem>
  <TabItem label="Stop Databases">
    <Tabs>
      <TabItem label="Linux/MacOS">
        ```bash
        ./stop-databases.sh
        ```
      </TabItem>
      <TabItem label="Windows">
        ```powershell
        .\Stop-Databases.ps1
        ```
      </TabItem>
    </Tabs>
  </TabItem>
</Tabs>

## Troubleshooting

### Port Already in Use
If you get port conflicts, check if other services are running on the required ports:

<Tabs>
  <TabItem label="Linux">
    ```bash
    # Modern Linux (ss command - usually preinstalled)
    ss -tulpn | grep -E ':(5000|6379|8998|8999)\s'
    ```
  </TabItem>
  <TabItem label="macOS">
    ```bash
    netstat -an | grep -E ':(5000|6379|8998|8999)\s'
    ```
  </TabItem>
  <TabItem label="Windows">
    Check ports using netstat:
    ```cmd
    netstat -ano | findstr ":5000 :6379 :8998 :8999"
    ```
    
    Or using PowerShell:
    ```powershell
    Get-NetTCPConnection | Where-Object {$_.LocalPort -in 5000,6379,8998,8999}
    ```
  </TabItem>
</Tabs>

### Need Help?
- Review [configuration options](/heritrace/configuration/app-settings/) for advanced setup
- Use `docker compose logs` to check application logs for specific errors
- Visit the <a href="https://github.com/opencitations/heritrace" target="_blank" rel="noopener noreferrer">GitHub repository</a> for issues and support 